---
import ShortAboutTransitions from "@components/svg/short_about_transitions.astro";

import EventsData from "@cv/chronology.json";

const events = EventsData.events;
const actual = events[0];
const older = events.slice(1)
---

<section id="cursus">
    <ShortAboutTransitions className="transition"/>
    <h1>Cursus</h1>
    <div class="events">
        <div class="event hilight">
            <p class="date">Situation actuelle</p>
            <div class="image"><img src={actual.image} /></div>
            <p class="name">{actual.name}</p>
        </div>
        <div class="separator"></div>
        {older.map((event) => (
            <div class="event">
                <p class="date">{event.date}</p>
                <div class="image"><img src={event.image} /></div>
                <p class="name">{event.name}</p>
            </div>
            <div class="separator"></div>
        ))}
    </div>
    <ShortAboutTransitions className="transition transition_reverse"/>
</section>

<style>
    #cursus {
        background-color: #21485E;
        display: flex;
        flex-direction: column;
        justify-content: center;
        position: relative;
    }

    h1 {
        position: absolute;
        font-family: "Poppins Bold";
        left: 10px;
        top: 20px;
        font-size: min(7vw, 32px);
    }

    .transition {
        max-width: 100%;
        height: fit-content;
    }

    .events {
        text-align: center;
        margin: 10% 0 10% 0;
        display: flex;
        flex-direction: row-reverse;
        align-items: center;
        overflow-x: scroll;
        scrollbar-color: rgba(255, 255, 255, 0) rgba(255, 255, 255, 0);
        scrollbar-width: 0;
    }

    .events::-webkit-scrollbar {
        display: none;
    }

    .event {
        position: relative;
        margin: 5%;
    }

    .image {
        margin: 25% 0 25% 0;
    }

    .hilight {
        margin-right: calc(50% - min(20vw, 150px) / 2);
    }

    .hilight img{
        max-width: min(20vw, 150px);
    }

    .separator {
        background-color: #ebebeb;
        min-width: min(20vw, 200px);
        height: 2px;
        transform: translateY(-20px);
    }

    img {
        border-radius: 200px;
        border: solid 5px #ebebeb;
        max-width: min(13vw, 100px);
        pointer-events: none;
    }

    p {
        font-size: max(min(2vw, 16px), 10px);
    }

    .transition_reverse {
        transform: rotate(180deg);
    }
</style>