---
import ProjectPage from "@components/portfolio/projectPage.astro";
import DefaultLayout from "@layouts/DefaultLayout.astro";

import projectsData from "@projects/projects.json";

export async function getStaticPaths() {
    const projects = projectsData.projects;
    var pathList: { params: { project: string }}[] = [];
    for (var id = 0; id< projects.length; id++){
        var path = {
            params: {project: projects[id].title}, props: {projectData: projects[id]}
        };
        pathList.push(path);
    }

    return pathList;
}

const { project } = Astro.params;
const { projectData } = Astro.props;
---

<DefaultLayout title={project}>
    <ProjectPage project={projectData}/>
</DefaultLayout>